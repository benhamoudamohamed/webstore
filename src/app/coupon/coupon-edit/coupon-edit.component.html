<div class="centerElement">
  <h3 class="titlecenter">{{this.title}}</h3>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div>
      <input nbInput fullWidth shape="round" required id="code" type="text" formControlName="code" [ngClass]="{ 'is-invalid': submitted && f.code.errors }">
      <label for="code">Coupon Code <span aria-hidden="true">*</span></label>
      <div *ngIf="submitted && f.code.errors" class="invalid-feedback">
        <div *ngIf="f.code.errors.required">Coupon Code is required</div>
      </div>
    </div>

    <div>
      <input nbInput fullWidth shape="round" required id="discount" type="number" formControlName="discount" [ngClass]="{ 'is-invalid': submitted && f.discount.errors }">
      <label for="discount">Discount <span aria-hidden="true">*</span></label>
      <div *ngIf="submitted && f.discount.errors" class="invalid-feedback">
        <div *ngIf="f.discount.errors.required">Discount is required</div>
      </div>
    </div>

    <div>
      <input nbInput fullWidth shape="round" required id="userLimit" type="number" formControlName="userLimit" [ngClass]="{ 'is-invalid': submitted && f.userLimit.errors }">
      <label for="userLimit">Users Limit <span aria-hidden="true">*</span></label>
      <div *ngIf="submitted && f.userLimit.errors" class="invalid-feedback">
        <div *ngIf="f.userLimit.errors.required">Users Limit is required</div>
      </div>
    </div>

    <nb-card>
      <nb-card-body class="example-items-rows">
        <nb-checkbox id="expired" formControlName="expired" status="success" (checkedChange)="isExpiredEvent($event)">expired</nb-checkbox>
      </nb-card-body>
    </nb-card>

    <div class="invalid-feedback">
      <span> {{ queryError }} </span>
    </div>
    <button [nbSpinner]="loadingSpinner" nbSpinnerSize="medium" nbSpinnerStatus="danger" nbButton shape="round" size="medium" status="success" type="submit" [disabled]="form.invalid">
      <span *ngIf="loadingSpinner === false">Save</span>
      <span *ngIf="loadingSpinner === true" [nbSpinner]="loadingSpinner">Loading...</span>
    </button>
  </form>
</div>
